<!DOCTYPE html>
    <html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>Heroku</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        <link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
    </head>
    <body>
        <h1 id="heroku">Heroku</h1>
<p>O Heroku é uma plataforma como serviço na nuvem que suporta várias linguagens de programação.</p>
<p><em>Obs: A versão gratuita não é indicada para produção, é indicado a versão paga para a produção.</em></p>
<h2 id="documenta%C3%A7%C3%A3o-e-acesso-ao-servi%C3%A7o">Documentação e Acesso ao Serviço</h2>
<p>Clique <a href="https://www.heroku.com">aqui</a> para ver a documentação e acessar o serviço.</p>
<h2 id="criar-um-app-no-heroku">Criar um app no Heroku</h2>
<h3 id="projeto-nodejs">Projeto Node.js</h3>
<p>Para criar um app no Heroku siga os seguintes procedimentos:</p>
<ul>
<li>
<p>Antes de enviar o projeto para o Heroku, é necessário criar um arquivo de nome <code>Procfile</code> na raíz do projeto com o seguinte código:</p>
<pre><code><div>web: node ./src/index.js
</div></code></pre>
</li>
<li>
<p>Acesse o site do Heroku e crie uma conta</p>
</li>
<li>
<p>No <code>Dashboard</code>, clique em <code>New</code> e <code>Create new app</code></p>
</li>
<li>
<p>Dê um nome e crie o app</p>
</li>
<li>
<p>Na aba <code>Deploy</code>:</p>
<ul>
<li>
<p>Em <code>Deployment method</code>, selecione o <code>GitHub</code> e faça o login</p>
</li>
<li>
<p>Em <code>App connected to GitHub</code>, digite o repositório para procurar e conecte nele</p>
</li>
<li>
<p>Em <code>Automatic deploys</code>, é possível alterar a branch para o deploy</p>
</li>
</ul>
</li>
<li>
<p>Na aba <code>Settings</code>:</p>
<ul>
<li>
<p>Em <code>Config Vars</code>, clique em <code>Reveal Config Vars</code></p>
</li>
<li>
<p>Configure as variáveis de ambiente passando chave e valor. Ex: Mongodb, e-mail e outros</p>
</li>
<li>
<p>Configure também a variável de chave <code>PORT</code> e valor <code>80</code></p>
</li>
</ul>
</li>
<li>
<p>Na aba <code>Deploy</code>:</p>
<ul>
<li>
<p>Em <code>Manual deploy</code>, clique em <code>Deploy Branch</code></p>
</li>
<li>
<p>Depois de terminar a build, clique no botão <code>View</code> que aparecerá e copie a url</p>
</li>
<li>
<p>Em <code>Automatic deploys</code>, clique em <code>Enable Automatic Deploys</code> (este botão realiza somente o deploy, não realiza a integração contínua).</p>
</li>
</ul>
</li>
</ul>
<p>É possível substituir o nome estranho da url por um domínio próprio, mas tem que ter o plano pago do Heroku, caso tenha, siga os seguintes procedimentos:</p>
<ul>
<li>
<p>Na aba <code>Settings</code>, em <code>Domains and certificates</code>, clique em <code>Add domain</code></p>
</li>
<li>
<p>Digite o nome do domínio e clique em <code>Save changes</code>.</p>
</li>
</ul>
<h3 id="projeto-reactjs-com-create-react-app">Projeto ReactJS com Create React App</h3>
<p>Para criar um app no Heroku siga os seguintes procedimentos:</p>
<ul>
<li>
<p>Antes de enviar o projeto para o Heroku, é necessário criar um arquivo de nome <code>static.json</code> na raíz do projeto com o seguinte código:</p>
<pre><code><div>{
  &quot;root&quot;: &quot;build/&quot;,
  &quot;routes&quot;: {
    &quot;/**&quot;: &quot;index.html&quot;
  }
}
</div></code></pre>
</li>
<li>
<p>Acesse o site do Heroku e crie uma conta</p>
</li>
<li>
<p>É necessário ter o Git configurado no projeto. Para instalar o <a href="../version-control/git.md">Git</a>, siga Instalação, e depois de instalado, é só dar um <code>git init</code> na pasta do projeto</p>
</li>
<li>
<p>Instale a biblioteca <a href="../nodejs/libs/heroku.md">Heroku CLI</a> no projeto, siga Instalação e Comandos do CLI, para instalar, fazer o login, criar um app no Heroku, abrir o app no navegador, enviar o projeto para o Heroku e configurar variáveis de ambiente</p>
</li>
<li>
<p>Uma outra maneira de configurar as variáveis de ambiente, é entrar no site do Heroku e na aba <code>Settings</code>:</p>
<ul>
<li>
<p>Em <code>Config Vars</code>, clique em <code>Reveal Config Vars</code></p>
</li>
<li>
<p>Configure as variáveis de ambiente passando chave e valor.</p>
</li>
</ul>
</li>
</ul>

    </body>
    </html>